{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Goose Gaming\\\\Lykoshin_project\\\\auth-app\\\\src\\\\components\\\\DayView.js\",\n  _s = $RefreshSig$();\n// src/components/DayView.js\nimport React, { useEffect, useState, useContext } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport { AuthContext } from './AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DayView = () => {\n  _s();\n  var _location$state;\n  const location = useLocation();\n  const initialDate = (_location$state = location.state) !== null && _location$state !== void 0 && _location$state.selectedDate ? new Date(location.state.selectedDate) : new Date(); // Получаем дату из состояния маршрута или используем текущую дату \n  const [events, setEvents] = useState([]);\n  const [currentDate, setCurrentDate] = useState(initialDate);\n  const {\n    user\n  } = useContext(AuthContext);\n  useEffect(() => {\n    const fetchEvents = async () => {\n      if (user && currentDate) {\n        try {\n          const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/events`, {\n            headers: {\n              'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n          });\n          const filteredEvents = response.data.events.filter(event => new Date(event.date).toDateString() === currentDate.toDateString());\n          setEvents(filteredEvents);\n        } catch (error) {\n          console.error('Ошибка при получении событий:', error);\n        }\n      }\n    };\n    fetchEvents();\n  }, [user, currentDate]);\n  const handleNextDay = () => {\n    const nextDay = new Date(currentDate);\n    nextDay.setDate(currentDate.getDate() + 1);\n    setCurrentDate(nextDay);\n  };\n  const handlePreviousDay = () => {\n    const previousDay = new Date(currentDate);\n    previousDay.setDate(currentDate.getDate() - 1);\n    setCurrentDate(previousDay);\n  };\n\n  // Обработка нажатий клавиш \n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.key === 'ArrowRight') {\n        handleNextDay();\n      } else if (event.key === 'ArrowLeft') {\n        handlePreviousDay();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [currentDate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: '#ffffff',\n      width: '80%',\n      margin: '20px auto',\n      padding: '20px',\n      borderRadius: '8px',\n      textAlign: 'center',\n      boxShadow: '0 2px 5px rgba(0, 0, 0, 0.1)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePreviousDay,\n        style: {\n          cursor: 'pointer',\n          padding: '10px',\n          fontSize: '16px',\n          color: '#ffffff',\n          backgroundColor: '#166582',\n          border: 'none',\n          borderRadius: '5px'\n        },\n        children: \"\\u2190\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [currentDate.toLocaleDateString(), \" (\", currentDate.toLocaleString('default', {\n          weekday: 'long'\n        }).charAt(0).toUpperCase() + currentDate.toLocaleString('default', {\n          weekday: 'long'\n        }).slice(1), \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNextDay,\n        style: {\n          cursor: 'pointer',\n          padding: '10px',\n          fontSize: '16px',\n          color: '#ffffff',\n          backgroundColor: '#166582',\n          border: 'none',\n          borderRadius: '5px'\n        },\n        children: \"\\u2192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyleType: 'none',\n        padding: 0\n      },\n      children: events.length > 0 ? events.map(event => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          marginBottom: '10px',\n          textAlign: 'left'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [new Date(event.date).toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          }), \" \\u2014 \", event.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 29\n        }, this), event.description && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: event.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 51\n        }, this)]\n      }, event.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"\\u041D\\u0435\\u0442 \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u0439 \\u043D\\u0430 \\u044D\\u0442\\u043E\\u0442 \\u0434\\u0435\\u043D\\u044C.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};\n_s(DayView, \"qhR/dv74teK2as5uD2lMJ6EZXKQ=\", false, function () {\n  return [useLocation];\n});\n_c = DayView;\nexport default DayView;\nvar _c;\n$RefreshReg$(_c, \"DayView\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useLocation","axios","AuthContext","jsxDEV","_jsxDEV","DayView","_s","_location$state","location","initialDate","state","selectedDate","Date","events","setEvents","currentDate","setCurrentDate","user","fetchEvents","response","get","process","env","REACT_APP_API_URL","headers","localStorage","getItem","filteredEvents","data","filter","event","date","toDateString","error","console","handleNextDay","nextDay","setDate","getDate","handlePreviousDay","previousDay","handleKeyDown","key","window","addEventListener","removeEventListener","style","backgroundColor","width","margin","padding","borderRadius","textAlign","boxShadow","children","display","justifyContent","alignItems","marginBottom","onClick","cursor","fontSize","color","border","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleDateString","toLocaleString","weekday","charAt","toUpperCase","slice","listStyleType","length","map","toLocaleTimeString","hour","minute","title","description","id","_c","$RefreshReg$"],"sources":["C:/Users/Goose Gaming/Lykoshin_project/auth-app/src/components/DayView.js"],"sourcesContent":["// src/components/DayView.js\r\nimport React, { useEffect, useState, useContext } from 'react'; \r\nimport { useLocation } from 'react-router-dom'; \r\nimport axios from 'axios'; \r\nimport { AuthContext } from './AuthContext';\r\n\r\nconst DayView = () => { \r\n    const location = useLocation(); \r\n    const initialDate = location.state?.selectedDate ? new Date(location.state.selectedDate) : new Date(); // Получаем дату из состояния маршрута или используем текущую дату \r\n    const [events, setEvents] = useState([]); \r\n    const [currentDate, setCurrentDate] = useState(initialDate); \r\n    const { user } = useContext(AuthContext);\r\n\r\n    useEffect(() => { \r\n        const fetchEvents = async () => { \r\n            if (user && currentDate) { \r\n                try { \r\n                    const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/events`, {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n                        }\r\n                    }); \r\n                    const filteredEvents = response.data.events.filter(event =>  \r\n                        new Date(event.date).toDateString() === currentDate.toDateString() \r\n                    ); \r\n                    setEvents(filteredEvents); \r\n                } catch (error) { \r\n                    console.error('Ошибка при получении событий:', error); \r\n                } \r\n            } \r\n        }; \r\n\r\n        fetchEvents(); \r\n    }, [user, currentDate]); \r\n\r\n    const handleNextDay = () => { \r\n        const nextDay = new Date(currentDate); \r\n        nextDay.setDate(currentDate.getDate() + 1); \r\n        setCurrentDate(nextDay); \r\n    }; \r\n\r\n    const handlePreviousDay = () => { \r\n        const previousDay = new Date(currentDate); \r\n        previousDay.setDate(currentDate.getDate() - 1); \r\n        setCurrentDate(previousDay); \r\n    }; \r\n\r\n    // Обработка нажатий клавиш \r\n    useEffect(() => { \r\n        const handleKeyDown = (event) => { \r\n            if (event.key === 'ArrowRight') { \r\n                handleNextDay(); \r\n            } else if (event.key === 'ArrowLeft') { \r\n                handlePreviousDay(); \r\n            } \r\n        }; \r\n\r\n        window.addEventListener('keydown', handleKeyDown); \r\n        return () => { \r\n            window.removeEventListener('keydown', handleKeyDown); \r\n        }; \r\n    }, [currentDate]); \r\n\r\n    return ( \r\n        <div style={{  \r\n            backgroundColor: '#ffffff',  \r\n            width: '80%',  \r\n            margin: '20px auto',  \r\n            padding: '20px',  \r\n            borderRadius: '8px',  \r\n            textAlign: 'center',  \r\n            boxShadow: '0 2px 5px rgba(0, 0, 0, 0.1)'  \r\n        }}> \r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}> \r\n                <button  \r\n                    onClick={handlePreviousDay}  \r\n                    style={{ cursor: 'pointer', padding: '10px', fontSize: '16px', color: '#ffffff', backgroundColor: '#166582', border: 'none', borderRadius: '5px' }} \r\n                > \r\n                    ← \r\n                </button> \r\n                <h2>{currentDate.toLocaleDateString()} ({currentDate.toLocaleString('default', { weekday: 'long' }).charAt(0).toUpperCase() + currentDate.toLocaleString('default', { weekday: 'long' }).slice(1)})</h2> \r\n                <button  \r\n                    onClick={handleNextDay}  \r\n                    style={{ cursor: 'pointer', padding: '10px', fontSize: '16px', color: '#ffffff', backgroundColor: '#166582', border: 'none', borderRadius: '5px' }} \r\n                > \r\n                    → \r\n                </button> \r\n            </div> \r\n            <ul style={{ listStyleType: 'none', padding: 0 }}> \r\n                {events.length > 0 ? ( \r\n                    events.map(event => ( \r\n                        <li key={event.id} style={{ marginBottom: '10px', textAlign: 'left' }}> \r\n                            <strong>{new Date(event.date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })} — {event.title}</strong> \r\n                            {event.description && <div>{event.description}</div>} \r\n                        </li> \r\n                    )) \r\n                ) : ( \r\n                    <li>Нет событий на этот день.</li> \r\n                )} \r\n            </ul> \r\n        </div> \r\n    ); \r\n}; \r\n\r\nexport default DayView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}